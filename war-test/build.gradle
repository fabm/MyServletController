apply plugin: 'java'
apply plugin: "war"
apply plugin: "jetty"

httpPort = 8081
stopPort = 9080
stopKey = "stopKey"

test.doFirst {
    Thread t = Thread.start {
        tasks.jettyRun.execute()
    }
    if (!t.alive){
        throw new IllegalStateException('O servidor n√£o foi iniciado')
    }
    sleep 1000
}

test.finalizedBy(jettyStop)


dependencies {
    compile project(':core')
    compile group: 'com.jayway.restassured', name:'rest-assured', version:'2.3.4'
    compile group: 'org.codehaus.jackson', name: 'jackson-mapper-asl', version: '1.9.9'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}
